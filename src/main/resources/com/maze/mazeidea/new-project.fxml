<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<BorderPane xmlns:fx="http://javafx.com/fxml" fx:controller="com.maze.mazeidea.NewProjectWindowController" styleClass="wizard-root">
    <top>
        <HBox spacing="8" alignment="CENTER_LEFT" styleClass="wizard-top">
            <Label text="New Project" styleClass="wizard-title" />
        </HBox>
    </top>

    <left>
        <VBox spacing="8" styleClass="wizard-sidebar">
            <Label text="New Project" styleClass="wizard-section" />
            <Button fx:id="chooseSpringBtn" text="Spring Boot" styleClass="wizard-nav-item">
                <graphic><FontIcon iconLiteral="mdi2f-folder"/></graphic>
            </Button>
            <Button fx:id="chooseReactBtn" text="React" styleClass="wizard-nav-item">
                <graphic><FontIcon iconLiteral="mdi2f-folder"/></graphic>
            </Button>
            <Button fx:id="chooseAngularBtn" text="Angular" styleClass="wizard-nav-item">
                <graphic><FontIcon iconLiteral="mdi2f-folder"/></graphic>
            </Button>

            <Separator />

            <Label text="Generators" styleClass="wizard-section" />
            <Button text="Maven Archetype" disable="true" styleClass="wizard-nav-item" />
            <Button text="JavaFX" disable="true" styleClass="wizard-nav-item" />
            <Button text="Quarkus" disable="true" styleClass="wizard-nav-item" />
            <Button text="Micronaut" disable="true" styleClass="wizard-nav-item" />
        </VBox>
    </left>

    <center>
        <ScrollPane fitToWidth="true" styleClass="wizard-scroll">
            <VBox spacing="12" styleClass="wizard-form">
                <GridPane hgap="10" vgap="10">
                    <columnConstraints>
                        <ColumnConstraints halignment="RIGHT" minWidth="120" />
                        <ColumnConstraints hgrow="ALWAYS" />
                    </columnConstraints>

                    <Label text="Server URL:" GridPane.rowIndex="0" GridPane.columnIndex="0" />
                    <HBox spacing="6" GridPane.rowIndex="0" GridPane.columnIndex="1">
                        <TextField fx:id="serverUrlField" text="start.spring.io" editable="false" HBox.hgrow="ALWAYS" />
                        <Button text="âš™" styleClass="icon-button" />
                    </HBox>

                    <Label text="Name:" GridPane.rowIndex="1" GridPane.columnIndex="0" />
                    <TextField fx:id="projectNameField" GridPane.rowIndex="1" GridPane.columnIndex="1" />

                    <Label text="Location:" GridPane.rowIndex="2" GridPane.columnIndex="0" />
                    <HBox GridPane.rowIndex="2" GridPane.columnIndex="1" spacing="6">
                        <TextField fx:id="locationField" HBox.hgrow="ALWAYS" />
                        <Button fx:id="browseButton" text="Browse" />
                    </HBox>
                    <Label fx:id="targetPreviewLabel" text="Project will be created in: -" GridPane.rowIndex="3" GridPane.columnIndex="1" />
                    <CheckBox fx:id="createGitCheck" text="Create Git repository" GridPane.rowIndex="4" GridPane.columnIndex="1" />

                    <Label text="Language:" GridPane.rowIndex="5" GridPane.columnIndex="0" />
                    <HBox spacing="6" GridPane.rowIndex="5" GridPane.columnIndex="1">
                        <ChoiceBox fx:id="languageChoice" />
                        <ChoiceBox fx:id="typeChoice" />
                        <ChoiceBox fx:id="packagingChoice" />
                    </HBox>
                </GridPane>

                <Separator />

                <GridPane hgap="10" vgap="10">
                    <columnConstraints>
                        <ColumnConstraints halignment="RIGHT" minWidth="120" />
                        <ColumnConstraints hgrow="ALWAYS" />
                    </columnConstraints>

                    <Label text="Group:" GridPane.rowIndex="0" GridPane.columnIndex="0" />
                    <TextField fx:id="groupIdField" GridPane.rowIndex="0" GridPane.columnIndex="1" />

                    <Label text="Artifact:" GridPane.rowIndex="1" GridPane.columnIndex="0" />
                    <TextField fx:id="artifactIdField" GridPane.rowIndex="1" GridPane.columnIndex="1" />

                    <Label text="Package name:" GridPane.rowIndex="2" GridPane.columnIndex="0" />
                    <TextField fx:id="packageField" GridPane.rowIndex="2" GridPane.columnIndex="1" />

                    <Label text="Java:" GridPane.rowIndex="3" GridPane.columnIndex="0" />
                    <ChoiceBox fx:id="javaVersionChoice" GridPane.rowIndex="3" GridPane.columnIndex="1" />
                </GridPane>

                <VBox fx:id="springSection" spacing="8">
                    <Label text="Dependencies" styleClass="section-title" />
                    <HBox spacing="8">
                        <TextField fx:id="depSearch" promptText="Search dependencies..." HBox.hgrow="ALWAYS" />
                        <Label fx:id="depInfoLabel" text="(available in local repo)" />
                    </HBox>
                    <ListView fx:id="dependencyList" prefHeight="160" />
                </VBox>

                <VBox fx:id="nodeSection" spacing="8">
                    <Label text="Node" styleClass="section-title" />
                    <GridPane hgap="10" vgap="10">
                        <columnConstraints>
                            <ColumnConstraints halignment="RIGHT" minWidth="120" />
                            <ColumnConstraints hgrow="ALWAYS" />
                        </columnConstraints>
                        <Label text="Node runtime:" GridPane.rowIndex="0" GridPane.columnIndex="0" />
                        <HBox GridPane.rowIndex="0" GridPane.columnIndex="1" spacing="6">
                            <TextField fx:id="nodePathField" HBox.hgrow="ALWAYS" />
                            <Button fx:id="detectNodeButton" text="Auto-detect" />
                            <Button fx:id="installNodeButton" text="Download" />
                        </HBox>
                        <Label fx:id="nodeStatusLabel" text="Node: not detected" GridPane.rowIndex="1" GridPane.columnIndex="1" />

                        <Label text="Angular CLI:" fx:id="ngCliLabel" GridPane.rowIndex="2" GridPane.columnIndex="0" />
                        <HBox GridPane.rowIndex="2" GridPane.columnIndex="1" spacing="6">
                            <TextField fx:id="ngCliField" HBox.hgrow="ALWAYS" />
                            <Button fx:id="detectNgButton" text="Auto-detect" />
                            <Button fx:id="installNgButton" text="Download" />
                        </HBox>
                        <Label fx:id="ngCliStatusLabel" text="Angular CLI: not detected" GridPane.rowIndex="3" GridPane.columnIndex="1" />

                        <Label text="Additional parameters:" fx:id="additionalParamsLabel" GridPane.rowIndex="4" GridPane.columnIndex="0" />
                        <TextField fx:id="additionalParamsField" GridPane.rowIndex="4" GridPane.columnIndex="1" />
                        <VBox fx:id="angularOptionsBox" spacing="6" GridPane.rowIndex="5" GridPane.columnIndex="1">
                            <CheckBox fx:id="angularStandaloneCheck" text="Create new project with standalone components" />
                            <CheckBox fx:id="angularDefaultSetupCheck" text="Use the default project setup" />
                        </VBox>
                    </GridPane>
                </VBox>

                <VBox fx:id="reactSection" spacing="8">
                    <Label text="React" styleClass="section-title" />
                    <GridPane hgap="10" vgap="10">
                        <columnConstraints>
                            <ColumnConstraints halignment="RIGHT" minWidth="120" />
                            <ColumnConstraints hgrow="ALWAYS" />
                        </columnConstraints>
                        <Label text="Project type:" GridPane.rowIndex="0" GridPane.columnIndex="0" />
                        <HBox spacing="6" GridPane.rowIndex="0" GridPane.columnIndex="1">
                            <ChoiceBox fx:id="reactTypeChoice" />
                        </HBox>
                        <Label text="create-react-app:" GridPane.rowIndex="1" GridPane.columnIndex="0" />
                        <HBox GridPane.rowIndex="1" GridPane.columnIndex="1" spacing="6">
                            <TextField fx:id="reactCraField" HBox.hgrow="ALWAYS" />
                            <Button fx:id="reactCraDetectButton" text="Auto-detect" />
                        </HBox>
                        <CheckBox fx:id="reactTypescriptCheck" text="Create TypeScript project" GridPane.rowIndex="2" GridPane.columnIndex="1" />
                        <Label fx:id="reactWarningLabel" text="Using create-react-app is not the advised method for creating React applications. The preferred approach is to use a template with the Vite bundler when using React without a framework." wrapText="true" styleClass="warning-text" GridPane.rowIndex="3" GridPane.columnIndex="1" />
                    </GridPane>
                </VBox>
            </VBox>
        </ScrollPane>
    </center>

    <bottom>
        <HBox spacing="12" alignment="CENTER_RIGHT" styleClass="wizard-footer">
            <Button fx:id="backButton" text="Back" visible="false" managed="false" />
            <Button fx:id="nextButton" text="Next" visible="false" managed="false" />
            <Button fx:id="finishButton" text="Create" styleClass="primary-action" />
            <Button fx:id="cancelButton" text="Cancel" />
        </HBox>
    </bottom>
</BorderPane>
